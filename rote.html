<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="imagens/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="style/style.css">
    <title>Easy Trip - Rota</title>
</head>
<body>
    <nav class="shadow-line">
        <img src="./imagens/logo.png" alt="">
        <div class="flex-nav">
            <a class="nav-color1" href="#">NOSSO HUB</a>
            <a class="nav-color1"  href="#">QUEM SOMOS</a>
            <a class="nav-color1"  href="#">PRODUTOS E SERVIÇOS</a>
            <a class="nav-color1"  href="#">PARCERIAS</a>
            <span class="botao-trip">
                <a class="botao-easy pointer" href="index.html">EASY TRIP</a>
            </span>
        </div>  
    </nav>
    <div class="container">
        <div class="formulario shadow-line">

            <!-- DEFINIR  -->

            <div class="titulo-rota">
                <div class="titulo">Definir Rota</div>
                <div class="data-rota">
                    23/05/23 até 29/05/23
                </div>
                <hr>
            </div>

            <!-- LOCAL  -->

            <div class="local">
                <div class="local-dados" >
                    Estado de Partida
                    <select name="selecao-estado">
                        <option value="SP">SP</option>
                        <option value="RJ" selected>RJ</option>
                        <option value="MG">MG</option>
                        <option value="ES">ES</option>
                        <option value="AC">AC</option>
                    </select>
                </div>
                <div class="local-dados" >
                    Estado de Destino
                    <select name="selecao-estado">
                        <option value="SP">SP</option>
                        <option value="RJ" selected>RJ</option>
                        <option value="MG">MG</option>
                        <option value="ES">ES</option>
                        <option value="AC">AC</option>
                    </select>
                </div>
                <div class="local-dados" >
                    Cidade de Partida
                    <select id="selecao-estado-partida" name="selecao-estado-partida">
                        <option value="São Paulo">São Paulo</option>
                        <option value="Rio de Janeiro" selected>Rio de Janeiro</option>
                        <option value="Belo Horizonte">Belo Horizonte</option>
                    </select>
                </div>
                <div class="local-dados" >
                    Cidade de Destino
                    <select id="selecao-estado-destino" name="selecao-estado-destino">
                        <option value="São Paulo" selected>São Paulo</option>
                        <option value="Rio de Janeiro">Rio de Janeiro</option>
                        <option value="Belo Horizonte">Belo Horizonte</option>
                    </select>
                </div>
            </div>

            <!-- CHECKBOX  -->

            <div class="pontos">
                <div class="etinerario">
                    Filtros de Etinerário
                    <div class="check">

                        <label class="">
                            <input type="checkbox" checked="checked">
                            Restaurantes                           
                        </label>

                        <label class="">
                            <input type="checkbox" checked="checked">
                            Parques                            
                        </label>

                        <label class="">
                            <input type="checkbox" checked="checked">
                            Museus                          
                        </label>

                        <label class="">
                            <input type="checkbox" checked="checked">
                            Teatros                            
                        </label>

                        <label style="margin-bottom: 20px;" class="">
                            <input type="checkbox" checked="checked">
                            Cinemas                            
                        </label>

                    </div>
                </div>

                <!-- BUTTON  --> 

                <div class="aceitar">
                <div class="button-acept pointer">Reservar veículo</div>

                    <span style="font-size: 14px; text-align: center;">
                        Ao clicar em ‘Reservar Veículo', você confirma a contração do serviço, utilizando os dados passados nas telas anteriores.
                    </span>
                </div>
            </div>  

        </div>

        <div class="mapa">
            <!-- <img class="mapa imagem-mapa" src="./imagens/mapa.png" alt=""> -->
            <gmp-map id="mapCenter" center="-22.9137295,-43.6107897" zoom="13" map-id="DEMO_MAP_ID">
                <gmp-advanced-marker id="mapPosition" position="-22.9137295,-43.6107897" title="My location">
                </gmp-advanced-marker>
              </gmp-map>
            </body>
        </div>
    </div>
    <footer>
        <div>&copy;  EasyCarros -Todos os direitos reservados</div>
    </footer>
    <script async src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC3vZ-Uuy_HbBrwIMwWdBh8_GLoyb1FCI8&callback=console.debug&libraries=maps,marker,places&v=beta" async defer>
    </script>
    <script>

        var rj = '-22.9100247,-43.1981408'
        var sp = '-23.5449796,-46.6486327'
        var bh = '-19.9025359,-44.0464509'

        const partida = document.getElementById('selecao-estado-partida');
        const destino = document.getElementById('selecao-estado-destino');
       
        partida.addEventListener('change', attMapaOrigem)
        destino.addEventListener('change', attMapaDestino)

        function attMapaOrigem(event){
            var origin = event.target.value;

            if(origin == 'São Paulo'){
                document.getElementById('mapCenter').setAttribute('center', sp);
                document.getElementById('mapPosition').setAttribute('position', sp);
            } else if(origin == 'Rio de Janeiro'){
                document.getElementById('mapCenter').setAttribute('center', rj);
                document.getElementById('mapPosition').setAttribute('position', rj);
            } else if (origin == 'Belo Horizonte'){
                document.getElementById('mapCenter').setAttribute('center', bh);
                document.getElementById('mapPosition').setAttribute('position', bh);
            }
        }

        function attMapaDestino(event) {
            

            const directionsService = new google.maps.DirectionsService();
            const directionsRenderer = new google.maps.DirectionsRenderer();

            const origin = partida.value;
            const destination = event.target.value;

            alert(origin)
            alert(destination)

            const request = {
                origin,
                destination,
                travelMode: 'DRIVING'
            };

            directionsService.route(request, function(result, status) {
                if (status === 'OK') {
                    directionsRenderer.setDirections(result);
                }
            });
        }
    </script>
</body>
</html>